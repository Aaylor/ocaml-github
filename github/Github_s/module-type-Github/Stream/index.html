<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stream (github.Github_s.Github.Stream)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../../index.html">github</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Github_s.Github.Stream</span></h1></header><div class="doc"><p>The <code class="code">Stream</code> module provides an abstraction to GitHub's paginated
endpoints. Stream creation does not initiate any network
activity. When requests are made, results are buffered
internally. Streams are not mutable.</p></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a t</code><code></code><code></code></div><div class="doc"><p><code class="code">'a t</code> is a stream consisting roughly of a buffer and a means
to refill it.</p></div></div><div class="spec type" id="type-parse"><a href="#type-parse" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a parse</code><code><span class="keyword"> = </span>string <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list Lwt.t</code><code></code></div><div class="doc"><p><code class="code">'a parse</code> is the type of functions which extract elements
from a paginated response.</p></div></div><div class="spec val" id="val-next"><a href="#val-next" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>next : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a>) option <a href="../Monad/index.html#type-t">Monad.t</a></code></div><div class="doc"><p><code class="code">next s</code> is the next element of the stream and a stream
continuation if one exists. The input stream is not
modified. This function offers an efficient, lazy, and uniform
means to iterate over ordered API results which may be too
numerous to fit into a single request/response pair.</p></div></div><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> list <a href="../Monad/index.html#type-t">Monad.t</a>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">map f s</code> is the lazy stream of <code class="code">f</code> applied to elements of <code class="code">s</code>
as they are demanded.</p></div></div><div class="spec val" id="val-fold"><a href="#val-fold" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../Monad/index.html#type-t">Monad.t</a>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="../Monad/index.html#type-t">Monad.t</a></code></div><div class="doc"><p><code class="code">fold f a s</code> is the left fold of <code class="code">f</code> over the elements of <code class="code">s</code>
with a base value of <code class="code">a</code>. <b>Warning:</b> this function may
result in <i>many</i> successive API transactions.</p></div></div><div class="spec val" id="val-find"><a href="#val-find" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>find : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a>) option <a href="../Monad/index.html#type-t">Monad.t</a></code></div><div class="doc"><p><code class="code">find p s</code> is the first value in <code class="code">s</code> satisfying <code class="code">p</code> if one
exists and a stream continuation for further ingestion.</p></div></div><div class="spec val" id="val-iter"><a href="#val-iter" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> unit <a href="../Monad/index.html#type-t">Monad.t</a>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit <a href="../Monad/index.html#type-t">Monad.t</a></code></div><div class="doc"><p><code class="code">iter f s</code> is activated after the application of <code class="code">f</code> to each
element of <code class="code">s</code>.</p></div></div><div class="spec val" id="val-to_list"><a href="#val-to_list" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_list : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> list <a href="../Monad/index.html#type-t">Monad.t</a></code></div><div class="doc"><p><code class="code">to_list s</code> is a list with each element of <code class="code">s</code>. <b>Warning:</b>
this function may result in <i>many</i> successive API transactions.</p></div></div><div class="spec val" id="val-of_list"><a href="#val-of_list" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>of_list : <span class="type-var">'a</span> list <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">of_list l</code> is a stream with each element of <code class="code">l</code>.
Occasionally, it is useful to write interfaces which operate
generically on streams. <code class="code">of_list</code> allows you to use list
values with those interfaces.</p></div></div><div class="spec val" id="val-poll"><a href="#val-poll" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>poll : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> option <a href="../Monad/index.html#type-t">Monad.t</a></code></div><div class="doc"><p><code class="code">poll stream</code> is a stream with items newer than <code class="code">stream</code>'s
items and will not resolve until any timeouts indicated by
GitHub have elapsed. By default, GitHub throttles polling
requests to once per minute per URL endpoint.</p></div></div><div class="spec val" id="val-since"><a href="#val-since" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>since : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Endpoint/Version/index.html#type-t">Endpoint.Version.t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">since stream version</code> is <code class="code">stream</code> with <code class="code">version</code> but without
any other change, i.e. the stream is not reset to its
beginning. Used in conjunction with <code class="code">poll</code>, <code class="code">since</code> enables
low-cost conditional re-synchronization of local state with
GitHub state.</p></div></div><div class="spec val" id="val-version"><a href="#val-version" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>version : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Endpoint/Version/index.html#type-t">Endpoint.Version.t</a> option</code></div><div class="doc"><p><code class="code">version stream</code> is the version of <code class="code">stream</code> if one is
known. After any stream element is forced, the stream version
will be available unless GitHub violates its API specification.</p></div></div></body></html>